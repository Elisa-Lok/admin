<!DOCTYPE html>
<html lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta name="renderer" content="webkit">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>{:config('web_site_title')}</title>
	<link href="__CSS__/bootstrap.min.css" rel="stylesheet">
	<style>
		.gradient-bg{background-color:#184599;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 2000 1500'%3E%3Cdefs%3E%3CradialGradient id='a' gradientUnits='objectBoundingBox'%3E%3Cstop offset='0' stop-color='%233eb9f0'/%3E%3Cstop offset='1' stop-color='%23184599'/%3E%3C/radialGradient%3E%3ClinearGradient id='b' gradientUnits='userSpaceOnUse' x1='0' y1='750' x2='1550' y2='750'%3E%3Cstop offset='0' stop-color='%232b7fc5'/%3E%3Cstop offset='1' stop-color='%23184599'/%3E%3C/linearGradient%3E%3Cpath id='s' fill='url(%23b)' d='M1549.2 51.6c-5.4 99.1-20.2 197.6-44.2 293.6c-24.1 96-57.4 189.4-99.3 278.6c-41.9 89.2-92.4 174.1-150.3 253.3c-58 79.2-123.4 152.6-195.1 219c-71.7 66.4-149.6 125.8-232.2 177.2c-82.7 51.4-170.1 94.7-260.7 129.1c-90.6 34.4-184.4 60-279.5 76.3C192.6 1495 96.1 1502 0 1500c96.1-2.1 191.8-13.3 285.4-33.6c93.6-20.2 185-49.5 272.5-87.2c87.6-37.7 171.3-83.8 249.6-137.3c78.4-53.5 151.5-114.5 217.9-181.7c66.5-67.2 126.4-140.7 178.6-218.9c52.3-78.3 96.9-161.4 133-247.9c36.1-86.5 63.8-176.2 82.6-267.6c18.8-91.4 28.6-184.4 29.6-277.4c0.3-27.6 23.2-48.7 50.8-48.4s49.5 21.8 49.2 49.5c0 0.7 0 1.3-0.1 2L1549.2 51.6z'/%3E%3Cg id='g'%3E%3Cuse href='%23s' transform='scale(0.12) rotate(60)'/%3E%3Cuse href='%23s' transform='scale(0.2) rotate(10)'/%3E%3Cuse href='%23s' transform='scale(0.25) rotate(40)'/%3E%3Cuse href='%23s' transform='scale(0.3) rotate(-20)'/%3E%3Cuse href='%23s' transform='scale(0.4) rotate(-30)'/%3E%3Cuse href='%23s' transform='scale(0.5) rotate(20)'/%3E%3Cuse href='%23s' transform='scale(0.6) rotate(60)'/%3E%3Cuse href='%23s' transform='scale(0.7) rotate(10)'/%3E%3Cuse href='%23s' transform='scale(0.835) rotate(-40)'/%3E%3Cuse href='%23s' transform='scale(0.9) rotate(40)'/%3E%3Cuse href='%23s' transform='scale(1.05) rotate(25)'/%3E%3Cuse href='%23s' transform='scale(1.2) rotate(8)'/%3E%3Cuse href='%23s' transform='scale(1.333) rotate(-60)'/%3E%3Cuse href='%23s' transform='scale(1.45) rotate(-30)'/%3E%3Cuse href='%23s' transform='scale(1.6) rotate(10)'/%3E%3C/g%3E%3C/defs%3E%3Cg transform='rotate(0 0 0)'%3E%3Cg transform='rotate(0 0 0)'%3E%3Ccircle fill='url(%23a)' r='3000'/%3E%3Cg opacity='0.5'%3E%3Ccircle fill='url(%23a)' r='2000'/%3E%3Ccircle fill='url(%23a)' r='1800'/%3E%3Ccircle fill='url(%23a)' r='1700'/%3E%3Ccircle fill='url(%23a)' r='1651'/%3E%3Ccircle fill='url(%23a)' r='1450'/%3E%3Ccircle fill='url(%23a)' r='1250'/%3E%3Ccircle fill='url(%23a)' r='1175'/%3E%3Ccircle fill='url(%23a)' r='900'/%3E%3Ccircle fill='url(%23a)' r='750'/%3E%3Ccircle fill='url(%23a)' r='500'/%3E%3Ccircle fill='url(%23a)' r='380'/%3E%3Ccircle fill='url(%23a)' r='250'/%3E%3C/g%3E%3Cg transform='rotate(0 0 0)'%3E%3Cuse href='%23g' transform='rotate(10)'/%3E%3Cuse href='%23g' transform='rotate(120)'/%3E%3Cuse href='%23g' transform='rotate(240)'/%3E%3C/g%3E%3Ccircle fill-opacity='0.1' fill='url(%23a)' r='3000'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");background-attachment:fixed;background-size:cover;background-position:center;}
		.bd-bg{background-color:#ffffff;padding:4% 0 4% 0;}
		#show_box{background-color:#ffffff;padding:4%;border-radius:15px;}
		body{background-color:#4d70b8;}
		.text-center{text-align:center !important;}
		.navbar-header{
			float:left;
			padding:15px;
			text-align:center;
			width:100%;
			background:rgba(0, 0, 0, .3);
		}
		.navbar-brand{float:none;color:#ffffff;}
		.form-control, .form-control > option{text-align:center; text-align-last:center;}
		.row{font-size:14px;}
		/*.row div:nth-child(2){text-align:right;}*/
		.box h1{
			border-bottom:1px solid #f1f1f1;
			font-size:18px;
			padding:0;
			margin:0;
			line-height:50px;
		}
		.p1 span{color:#1c2d3f;}
		#reg_box{display:none;border-radius:15px;}
	</style>
</head>
<body class="gradient-bg">
<nav class="navbar">
	<div class="navbar-header">
		<a class="navbar-brand" href="/">
			<svg class="icon" style="width: 1.2em; vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1436">
				<path d="M152.839592 152.839231a507.930624 507.930624 0 1 0 718.322377 718.322377 507.930624 507.930624 0 1 0-718.322377-718.322377Z" fill="#00A57A" p-id="1437"></path>
				<path d="M512 418.156544a58.667008 314.574848 90 1 0 0 117.334016 58.667008 314.574848 90 1 0 0-117.334016zM512 431.071232a45.754368 274.733056 90 0 1 0 91.506688 45.754368 274.733056 90 0 1 0-91.508736z" fill="#FFFFFF" p-id="1438"></path>
				<path d="M263.559168 284.823552l-0.458752 96.354304 185.84576 0.229376 0.227328 473.995264h126.339072V381.407232h185.387008v-96.58368z" fill="#FFFFFF" p-id="1439"></path>
				<path d="M447.113216 504.293376h129.773568v17.588224h-129.773568z" fill="#00A57A" p-id="1440"></path>
			</svg>
			{:config('web_site_title')} 最安全的数字货币交易平台</a>
	</div>
</nav>
<div class="container">
	<!-- notice -->
	<div id="show_box">
		<div>
			<b>平台申明：</b> <br/>
			<ul>
				<li>1. 数字资产本身不由任何金融机构或公司或本网站发行；</li>
				<li>2. 数字资产市场是全新的、未经确认的，而且可能不会增长；</li>
				<li>3. 数字资产主要由投机者大量使用，零售和商业市场使用相对较少，数字资产交易存在极高风险，其全天不间断交易，没有涨跌限制，价格容易受庄家、全球政府政策的影响而大幅波动；</li>
				<li>4. 如果公司根据其单方判断认为您违反了本协议，或者根据您所在管辖区域的法律本网站提供的服务或者您使用本网站提供的服务的行为是非法的，公司有权随时暂停或终止您的账户，或者暂停或终止您使用本网站提供的服务或数字资产交易。</li>
				<li>5. 禁止位于美国的任何人使用本网站提供的服务。 数字资产交易有极高风险，并不适合绝大部分人士。您了解和理解此投资有可能导致部分损失或全部损失，所以您应该以能承受的损失程度来决定投资的金额。您了解和理解数字资产会产生衍生风险，所以如有任何疑问，建议先寻求理财顾问的协助。此外，除了上述提及过的风险以外，还会有未能预测的风险存在。您应慎重考虑并用清晰的判断能力去评估自己的财政状况及上述各项风险而作出任何买卖数字资产的决定，并承担由此产生的全部损失，我们对此不承担任何责任。
				</li>
			</ul>
			<b>平台敬告您：</b>
			<ul>
				<li>1. 您了解本网站仅作为您获取数字资产信息、寻找交易方、就数字资产的交易进行协商及开展交易的场所，本网站不参与您的任何交易，故您应自行谨慎判断确定相关数字资产及/或信息的真实性、合法性和有效性，并自行承担因此产生的责任与损失。</li>
				<li>2. 本网站的任何意见、消息、探讨、分析、价格、建议和其他资讯均是一般的市场评论，并不构成投资建议。我们不承担任何因依赖该资讯直接或间接而产生的损失，包括但不限于任何利润损失。</li>
				<li>3. 本网站的内容会随时更改并不作另行通知，我们已采取合理措施确保网站资讯的准确性，但并不能保证其准确性程度，亦不会承担任何因本网站上的资讯或因未能链结互联网、传送或接收任何通知和信息时的延误或失败而直接或间接产生的损失。</li>
				<li>4. 使用互联网形式的交易系统亦存有风险，包括但不限于软件，硬件和互联网链结的失败等。由于我们不能控制互联网的可靠性和可用性，我们不会对失真，延误和链结失败而承担任何责任。</li>
				<li>5. 本网站任何服务均不接受信用卡支付；</li>
				<li>6. 禁止使用本网站从事洗钱、走私、商业贿赂等一切非法交易活动或违法行为，若发现任何涉嫌非法交易或违法行为，本站将采取各种可使用之手段，包括但不限于冻结账户，通知相关权力机关等，我们不承担由此产生的所有责任并保留向相关人士追究责任的权利。</li>
				<li>7. 禁止使用本网站进行恶意操纵市场、不正当交易等一切不道德交易活动，若发现此类事件，本网站将对所有恶意操纵价格、恶意影响交易系统等不道德的行为采取警告、限制交易、关停账户等预防性地保护措施，我们不承担由此产生的所有责任并保留向相关人士追究责任的权利。</li>
			</ul>
		</div>
		<div class="checkbox text-center">
			<b><input type="checkbox" id="check_box" checked> 我同意上述条款申明和警告事项</b><br><br>
			<p>
				<button type="button" class="btn btn-lg btn-primary" onclick="next_reg()">下一步</button>
			</p>
		</div>
		<script>
			function next_reg() {
				if ($("#check_box").is(":checked")) {
					$('#show_box').hide();
					$("#reg_box").show();
				} else {
					alert('请先仔细阅读上述申明和警告项目！');
				}
			}
		</script>
	</div>
	<div id="reg_box" class="bd-bg">
		<section id="loginform" class="outer-wrapper">
			<div class="inner-wrapper">
				<div class="container">
					<div class="row">
						<div class="col-sm-4 col-sm-offset-4">
							<form method="post" class="form-horizontal" enctype="multipart/form-data">
								<div class="form-group" hidden>
									<select class="form-control" name="reg_type" id="reg_type" style="display: none;">
										{php}
										if(input('type') &&input('type')<4){
											if(input('type')==1){
												echo "<option value='1'></option>";
											}
											if(input('type')==2){
												echo "<option value='2'></option>";
										  }
											if(input('type')==3){
												echo "<option value='3'></option>";
											}
										}else{
										echo "<option value='1'></option><option value='2' selected></option><option value='3'></option>";
										}
										{/php}
									</select>
								</div>
								<div class="form-group">
									<label class="col-sm-3 control-label">姓名: </label>
									<div class="col-sm-9">
										<input type="text" name="username" id="username" class="form-control" autocomplete="off" placeholder="姓名">
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-3 control-label">昵称: </label>
									<div class="col-sm-9">
										<input type="text" name="nickname" id="nickname" class="form-control" autocomplete="off" placeholder="昵称">
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-3 control-label">身份证号: </label>
									<div class="col-sm-9">
										<input type="text" name="idcard" id="idcard" class="form-control" autocomplete="off" placeholder="真实身份证号码">
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-3 control-label">手机号: </label>
									<div class="col-sm-9">
										<input type="text" name="mobile" id="mobile" class="form-control" autocomplete="off" placeholder="移动电话号码">
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-3 control-label">登入密码: </label>
									<div class="col-sm-9">
										<input type="password" name="password" id="password" class="form-control" autocomplete="off" placeholder="登入密码">
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-3 control-label">重复密码: </label>
									<div class="col-sm-9">
										<input type="password" name="password_confirmation" id="password_confirmation" class="form-control" autocomplete="off" placeholder="确认登入密码">
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-3 control-label">交易密码: </label>
									<div class="col-sm-9">
										<input type="password" name="paypassword" id="paypassword" class="form-control" autocomplete="off" placeholder="交易密码">
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-3 control-label">重复密码: </label>
									<div class="col-sm-9">
										<input type="password" name="paypassword_confirmation" id="paypassword_confirmation" class="form-control" autocomplete="off" placeholder="确认交易密码">
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-3 control-label">邀请码: </label>
									<div class="col-sm-9">
										<input type="{php} if(\think\Session::get('invite')){echo 'hidden';}else{echo 'text';}{/php}" name="invite_code" id="invite_code" class="form-control" autocomplete="off" value="{$Think.session.invite}" placeholder="邀请码(可选)">
									</div>
								</div>
								<div class="form-group text-center">
									<a href="/login" class="btn btn-lg btn-default from-control">返回</a>
									<button class="btn btn-lg btn-success from-control" type="button" role="button" onclick="submitr();return false;">注册</button>
								</div>
							</form>
						</div>
					</div>
				</div>
			</div>
		</section>
	</div>
</div>
<script src="__JS__/jquery.min.js"></script>
<script src="__JS__/bootstrap.min.js"></script>
<script src="/static/admin/js/layer/layer.js"></script>
<script>
	$('.file_update').change(function () {
		let url = getObjectURL(this.files[0]);//获取本地的文件地址
		if (url) {
			$(this).parent().find('img').attr('src', url);//修改图片路径
		} else {
			$(this).parent().find('img').attr('src', defaultimage);
		}
	});
	//本地URL地址解析
	function getObjectURL(file) {
		//不存在选择路径补null
		file = file ? file : null;
		if (file == null) {
			return null;
		}
		let url = null;
		if (window.createObjectURL != undefined) { // basic
			url = window.createObjectURL(file);
		} else if (window.URL != undefined) { // mozilla(firefox)
			url = window.URL.createObjectURL(file);
		} else if (window.webkitURL != undefined) { // webkit or chrome
			url = window.webkitURL.createObjectURL(file);
		}
		return url;
	}
	function submitr() {
		let username = $('#username').val();
		let idcard = $('#idcard').val();
		let smscode = $('#smscode').val();
		let mobile = $('#mobile').val();
		let password = $('#password').val();
		let paypassword = $('#paypassword').val();
		let password_confirmation = $('#password_confirmation').val();
		let paypassword_confirmation = $('#paypassword_confirmation').val();
		let reg_type = $('select[name="reg_type"]').val();
		if (reg_type == 0) {
			layer.msg('请选择注册类型');
			return false;
		}
		if (!username || username.length < 2 || username.length > 5) {
			layer.msg('姓名格式不正确');
			return false;
		}
		/* if(!smscode){
		 layer.msg('请输入短信验证码');return false;
		 }*/
		if (!idcard) {
			layer.msg('请输入身份证号');
			return false;
		}
		if (!mobile || mobile.length !== 11) {
			layer.msg('手机号错误');
			return false;
		}
		if (!password || password.length > 16) {
			layer.msg('登录密码格式不正确');
			return false;
		}
		if (password.length < 6 || paypassword.length < 6) {
			layer.msg('密码至少6位');
			return false;
		}
		if (password === paypassword) {
			layer.msg('登录密码不能与交易密码相同');
			return false;
		}
		if (password !== password_confirmation) {
			layer.msg('确认登录密码错误');
			return false;
		}
		if (paypassword !== paypassword_confirmation) {
			layer.msg('确认交易密码错误');
			return false;
		}
		if (checkID(idcard) === false) {
			layer.msg('身份证号码错误');
			return false;
		}
		$('form').submit();
	}
	let time = 60;
	function sendPhoneCode() {
		let mobile = $('#mobile').val();
		if (!mobile) {
			layer.tips('请输入手机号', '#mobile');
			return false;
		}
		$.post("{:url('Home/Login/sendPhoneCode')}", {mobile: mobile}, function (data) {
			let getCode = $("#getcode");
			layer.msg(data.msg);
			if (data.code == 0) {
				getCode.html("获取验证码");
				getCode.attr("onclick", 'sendPhoneCode()');
				return false;
			} else {
				let timer = setInterval(function () {
					if (time > 0) {
						getCode.html(time + 's　');
						getCode.attr("onclick", '');
						time--;
					} else {
						time = 60;
						getCode.html("获取验证码");
						getCode.attr("onclick", 'sendPhoneCode()');
						clearInterval(timer)
					}
				}, 1000)
			}
		})
	}
	function checkID(ID) {
		if (typeof ID !== 'string') return '非法字符串';
		let city = {
			11: "北京",
			12: "天津",
			13: "河北",
			14: "山西",
			15: "内蒙古",
			21: "辽宁",
			22: "吉林",
			23: "黑龙江 ",
			31: "上海",
			32: "江苏",
			33: "浙江",
			34: "安徽",
			35: "福建",
			36: "江西",
			37: "山东",
			41: "河南",
			42: "湖北 ",
			43: "湖南",
			44: "广东",
			45: "广西",
			46: "海南",
			50: "重庆",
			51: "四川",
			52: "贵州",
			53: "云南",
			54: "西藏 ",
			61: "陕西",
			62: "甘肃",
			63: "青海",
			64: "宁夏",
			65: "新疆",
			71: "台湾",
			81: "香港",
			82: "澳门",
			91: "国外"
		};
		let birthday = ID.substr(6, 4) + '/' + Number(ID.substr(10, 2)) + '/' + Number(ID.substr(12, 2));
		let d = new Date(birthday);
		let newBirthday = d.getFullYear() + '/' + Number(d.getMonth() + 1) + '/' + Number(d.getDate());
		let currentTime = new Date().getTime();
		let time = d.getTime();
		let arrInt = [7, 9, 10, 5, 8, 4, 2, 1, 6, 3, 7, 9, 10, 5, 8, 4, 2];
		let arrCh = ['1', '0', 'X', '9', '8', '7', '6', '5', '4', '3', '2'];
		let sum = 0, i, residue;
		/*if (city[ID.substr(0, 2)] === undefined) return false; // 非法地区
		 if (time >= currentTime || birthday !== newBirthday) return false;//非法生日
		 for (i = 0; i < 17; i++) {
		 sum += ID.substr(i, 1) * arrInt[i];
		 }
		 residue = arrCh[sum % 11];
		 if (residue !== ID.substr(17, 1)) return false;
		 */
		if (!/^\d{17}(\d|x)$/i.test(ID)) return false;
		return true;
	}
</script>
</body>
</html>